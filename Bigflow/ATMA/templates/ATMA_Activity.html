{% verbatim %}
<!--Activity Details Create Dailog-->
<div aria-hidden="true" aria-labelledby="exampleModalLabel" class="modal fade" data-backdrop="static"
     data-keyboard="false" id="Activity_showpopup" role="dialog">
    <div class="modal-dialog modal-lg" role="document" style="z-index: 111199000 !important">
        <div class="modal-content">
            <div class="modal-header popup-header">
                <h5 class="modal-title" id="exampleModalLabel">
                    Activity
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </h5>
            </div>

            <form name="activityform">
                <div class="row">
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Activity Type</label>
                            <md-select md-container-class="popup_select" ng-model="Activityadd.activitytype" required>
                                <md-option ng-repeat="item in activitytypes" ng-value="item.id">
                                    {{item.data}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>

                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Activity Name</label>
                            <input type="text"  no-special-char ng-model="Activityadd.activityname" maxlength="126" required>
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Description</label>
                            <input type="text"  no-special-char ng-model="Activityadd.description" maxlength="256" required>
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-autocomplete md-clear-button="true"
                                         md-floating-label="Branch"
                                         md-input-maxlength=126
                                         md-item-text="item_branch.partnerbranch_name"
                                         md-items="item_branch in act_branchdetails(searchBranch)"
                                         md-min-length=0
                                         md-no-cache="true"
                                         md-search-text="searchBranch"
                                         md-selected-item="Activityadd.branch"
                                         ng-disabled="acti_true"
                                         required
                                         >
                            <md-item-template>
                                <span md-highlight-text="searchBranch" ng-disabled="true">{{item_branch.partnerbranch_name}} - {{item_branch.partnerbranch_code}}</span>
                            </md-item-template>
                            <md-not-found>
                                No Branch matching "{{searchBranch}}" were found.
                            </md-not-found>
                        </md-autocomplete>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Activity Start Date</label>
                            <md-datepicker md-hide-icons="calendar" md-max-date="maxDatee"
                                           md-min-date="from_date"
                                           md-open-on-focus
                                           ng-model="Activityadd.activitystartdate" required></md-datepicker>
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Activity End Date</label>
                            <md-datepicker md-hide-icons="calendar" md-max-date="maxDatee"
                                           md-min-date="from_date"
                                           md-open-on-focus
                                           ng-model="Activityadd.activityenddate" required></md-datepicker>
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Projected Contract Spend</label>
                            <input type="text" ng-model="Activityadd.projectedcontract" maxlength="16" numbers-only required>
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-autocomplete
                                         md-floating-label="Activity RM"
                                         md-input-maxlength=126
                                         md-item-text="item.employee_name"
                                         md-items="item in rmdetails(searchRM)"
                                         md-min-length=0
                                         md-no-cache="true"
                                         md-search-text="searchRM"
                                         md-selected-item="Activityadd.actrm"
                                         ng-disabled="true"
                                            required
                                         >
                            <md-item-template>
                                <span md-highlight-text="searchRM" ng-disabled="true">{{item.employee_name}} - {{item.employee_code}}</span>
                            </md-item-template>
                            <md-not-found>
                                No RM matching "{{searchRM}}" were found.
                            </md-not-found>
                        </md-autocomplete>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Fidelity Insurance Required</label></label>
                            <md-select md-container-class="popup_select"
                                       ng-model="Activityadd.fidelityinsurance" required>
                                <md-option ng-repeat="item in fidelityinsurance" ng-value="item.id">
                                    {{item.data}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Bidding</label></label>
                            <md-select md-container-class="popup_select" ng-model="Activityadd.bidding" required>
                                <md-option ng-repeat="item in bidding" ng-value="item.key">
                                    {{item.value}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-input-container class="md-block inputcontainer">
                            <label>Reason</label>
                            <input type="text" ng-model="Activityadd.reason" only-letters-input  maxlength="256">
                        </md-input-container>
                    </div>
                    <div class="col-md-3">
                        <md-autocomplete
                                md-clear-button="true"
                                md-floating-label="Activity Status"
                                md-input-maxlength=126
                                md-item-text="item.metadata_value"
                                md-items="item in gotoactivity(searchText)"
                                md-min-length=0
                                md-no-cache="true"
                                md-search-text="searchText"
                                md-selected-item="Activityadd.ngactgrp"
                                md-selected-item-change="ngactgrop(item)"
                        required>
                            <md-item-template>
                                <span md-highlight-text="searchText"> {{item.metadata_value}} </span>
                            </md-item-template>
                            <md-not-found>
                                No matching "{{searchText}}" were found.
                            </md-not-found>
                        </md-autocomplete>
                    </div>
                </div>

                <div ng-include="'empcntct'"></div>

                <div class="row">
                    <div class="col-md-12" style="margin-left:350px;">
                        <md-button class="md-raised custbutton" value="Close" class="btn btn-secondary"
                                   ng-click="activitysummarysave(Activityadd);" ng-show="addactivityButton" ng-disabled="activity_disabled">
                            Submit
                        </md-button>
                        <md-button class="md-raised custbutton" value="Close" class="btn btn-secondary"
                                   ng-click="activitysummaryedit(Activityadd);" ng-show="editactivityButton">
                            Update
                        </md-button>
                        <md-button aria-label="Close" class="md-raised"
                                   ng-click="close_fun('activity')"
                                   value="close">Close
                        </md-button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>
<!--end model-->
<div class="row">
    <div class="row-header col-lg-12 col-sm-12">
        <h4><strong>Supplier Activity <label ng-show="pacode">({{Partner.partnercode}}-{{Partner.partnername}})</label></strong></h4>
    </div>
</div>

<div class="row">
    <div class="col-md-3">
        <md-autocomplete md-clear-button="true"
                         md-floating-label="Activity RM search"
                         md-input-maxlength=126
                         md-item-text="item.employee_name"
                         md-items="item in getpartnerrm_srch(searchRM12)"
                         md-min-length=0
                         md-no-cache="true"
                         md-search-text="searchRM12"
                         md-selected-item="Activityadd.Searchselectedemp"
                         ng-disabled="Customer_disable"
                           md-selected-item-change="search_activity(Activityadd)"
                         >
            <md-item-template>
                <span md-highlight-text="searchRM12">{{item.employee_name}}</span>
            </md-item-template>
            <md-not-found>
                No RM matching "{{searchRM12}}" were found.
            </md-not-found>
        </md-autocomplete>
    </div>


    <div class="col-md-3">
        <md-input-container class="md-block inputcontainer">
            <label>Activity Name</label>
            <input type="text" ng-model="Activityadd.Search_activityname" maxlength="256" ng-change="search_activity(Activityadd)">
        </md-input-container>
    </div>
    <div class="col-md-3" ng-show="createpartner">
        </br>
        <md-button class="md-fab md-mini md-primary custbutton" ng-click="showpopup_Activity()">
            <md-icon>add</md-icon>
            <md-tooltip>Add</md-tooltip>
        </md-button>


    </div>
</div>
</div>

<div class="row table-responsive">
    <div class="col-md-12 col-lg-12 col-sm-12">
        <table class="table table-striped table-bordered table-condensed table-hover md-primary">
            <thead class="header">
            <tr>
                <th>S.No</th>
                <th>Branch Name</th>
                <th>Type</th>
                <th>Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>RM</th>
                <th>Contact Person</th>
                <th>Reason</th>
                <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="prod in getActivitySummary.slice(((ActivitycurrentPage-1)*ActivityitemsPerPage), ((ActivitycurrentPage)*ActivityitemsPerPage))  | filter:searchquery ">
                <td>
                    <center>{{((ActivitycurrentPage-1)*itemsPerPage)+$index+1}}</center>
                </td>
                <td>{{prod.partnerbranch_name}}</td>
                <td>{{prod.activity_type}}</td>
                <td>{{prod.activity_name}}</td>
                <td>{{prod.activity_startdate | date:'dd-MMM-yyyy'}}</td>
                <td>{{prod.activity_enddate | date:'dd-MMM-yyyy'}}</td>
                <td>{{prod.employee_name}}</td>
                <td>{{prod.Contact_personname}}</td>
                <td>{{prod.activity_reason}}</td>
                <td align="center">
                    <a title="View" ng-click="show_activity(prod)" align="center"
                       class="editlink">
                        <i class="material-icons">visibility</i>
                    </a>
                    <span title="Edit" ng-click="edit_activitydata(prod)" align="center" ng-show="createpartner"
                          class="editlink">
                        <i class="material-icons">edit</i>
                    </span>
                    <span title="Add Activity Details "  ng-click="setTab_Change(13,prod)" align="center" ng-class="{ active: isSet(13) }"
                          class="editlink">
                        <i class="material-icons" style="material-icons.line-height:3px">send</i>
                    </span>
<!--                      <md-tabs md-dynamic-height md-stretch-tabs>-->
<!--                        <md-tab ng-class="{ active: isSet(13) }"-->
<!--                                ng-click="setTab_Change(13,prod)" label="Tax Details" ng-disabled="hidetabs">-->
<!--                        </md-tab>-->

                        </md-tab>
                    </md-tabs>

                </td>
            </tr>
            <tr ng-show="getActivitySummary.length == undefined">
                            <td class="warning" colspan="12">
                                No Records Found.
                            </td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="6">
                                    <ul uib-pagination total-items="getActivitySummary.length" ng-model="ActivitycurrentPage"
                                        max-size="ActivitymaxSize"
                                        class="pagination-sm cust_pagination" boundary-links="true"
                                        items-per-page="ActivityitemsPerPage"></ul>
                                </td>
                <td colspan="4">
                    Total Count:{{getActivitySummary.length}}
                </td>
            </tr>
            </tfoot>
        </table>
    </div>
</div>


{% endverbatim %}
<style>
.md-select-menu-container.md-active {
   z-index: 1060;
   }
   .md-autocomplete-suggestions-container{
  z-index:100000 !important;
 }
   .md-dialog-container{
   z-index:100000 !important;
   }

</style>